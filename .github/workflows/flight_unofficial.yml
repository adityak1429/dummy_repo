# This is a basic workflow to help you get started with Actions

name: CI

# Controls when the workflow will run
on:
  # Triggers the workflow on push or pull request events but only for the "main" branch
  push:
    branches: [ "main" ]

jobs:
steps:

- name: List files
Â  run: ls ${{ github.workspace }}
 - uses: trympet/microsoft-store-flight-action@v1.0.0
 name: Trying to publish
  with:
        tenant-id: ${{ secrets.AZURE_AD_TENANT_ID }}
        client-id: ${{ secrets.AZURE_AD_APPLICATION_CLIENT_ID }}
        client-secret: ${{ secrets.AZURE_AD_APPLICATION_SECRET }}
        app-id: ${{ secrets.STORE_APP_ID }}
        flight-id: ${{ secrets.STORE_FLIGHT_ID }}
        package-path: "${{ github.workspace }}/ReleaseSigned/MyApp.msixupload"
        delete-pending: true
        delete-packages: true
        packages-keep: 1
